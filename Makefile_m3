SRCDIR_SERVER=server/src
SRCDIR_OTHER=Src
INCDIR=include

CC=gcc
INCLUDE = -I/opt/homebrew/include/SDL2 -I$(INCDIR)
CFLAGS = -g $(INCLUDE) -c -arch arm64
LDFLAGS = -L/opt/homebrew/lib -lSDL2 -lSDL2_image -lSDL2_ttf -lSDL2_net -lm -arch arm64

snakeServer: main.o server.o snake.o bakgrund.o
	$(CC) -o snakeServer main.o server.o snake.o bakgrund.o $(LDFLAGS)

snake: main.o snake.o bakgrund.o meny.o
	$(CC) -o snake main.o snake.o bakgrund.o meny.o $(LDFLAGS)

server.o: $(SRCDIR_SERVER)/server.c $(INCDIR)/server.h
	$(CC) $(CFLAGS) $(SRCDIR_SERVER)/server.c

snake.o: $(SRCDIR_OTHER)/snake.c $(INCDIR)/snake.h
	$(CC) $(CFLAGS) $(SRCDIR_OTHER)/snake.c

bakgrund.o: $(SRCDIR)/bakgrund.c $(INCDIR)/bakgrund.h
	$(CC) $(CFLAGS) $(SRCDIR)/bakgrund.c

meny.o: $(SRCDIR)/meny.c $(INCDIR)/meny.h
	$(CC) $(CFLAGS) $(SRCDIR)/meny.c

clean:
	rm -f *.o snakeServer
